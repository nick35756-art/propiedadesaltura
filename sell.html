<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Vende tu propiedad - Propiedades Altura</title>
  <meta name="description" content="Tasación gratuita de propiedades en Guarne, Rionegro y Oriente Antioqueño">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="sell.css">

  <!-- Wompi -->
  <script src="https://checkout.wompi.co/widget.js"></script>

  <style>
    .wompi-pay-button{background:#10b981;color:white;padding:1.2rem 2rem;border-radius:12px;font-weight:700;font-size:1.3rem;border:none;cursor:pointer;box-shadow:0 6px 20px rgba(16,185,129,0.4);width:100%;margin-top:1rem;}
    .wompi-pay-button:hover{background:#059669;}
  </style>
head>

<body>
  <div class="page">
    <!-- HEADER -->
    <header class="site-header" role="banner">
      <div class="wrap header-inner">
        <a class="logo" href="index.html" aria-label="Propiedades Altura — inicio">
          <svg class="logo-icon" viewBox="0 0 64 64" aria-hidden="true" focusable="false">
            <path d="M4 56 L32 8 L60 56 Z" fill="currentColor"/>
          svg>
          <span class="brand">Propiedades Alturaspan>
        a>
        <nav class="header-nav">
          <div class="lang" id="lang-switch">
            <button class="lang-btn" data-lang="es" aria-pressed="false">ESbutton>
            <button class="lang-btn" data-lang="en" aria-pressed="true">ENbutton>
          div>
          <a class="cta mobile-main-cta" href="index.html#properties">Ver Propiedadesa>
        nav>
      div>
      <p class="tagline" data-es="ORIENTE ANTIOQUEÑO" data-en="EASTERN ANTIOQUIA">EASTERN ANTIOQUIAp>
    header>

    <main style="max-width:960px;margin:4rem auto 6rem;padding:0 1rem;">
      <h1 data-es="Vende tu propiedad" data-en="Sell Your Property">Sell Your Propertyh1>

      <!-- STEP 1: CHOOSE PLAN -->
      <div class="full-width" style="text-align:center;margin-bottom:4rem;">
        <h2 style="font-size:1.9rem;margin-bottom:2rem;">¿Cómo quieres publicar tu propiedad?h2>

        <div style="display:flex;flex-wrap:wrap;gap:3rem;justify-content:center;">
          <!-- EXCLUSIVE LISTING -->
          <a href="exclusive-form.html"
             style="background:#000;color:#FFD700;padding:2rem 3.5rem;border-radius:16px;font-family:'Playfair Display',serif;font-weight:700;font-size:1.8rem;letter-spacing:2px;box-shadow:0 12px 35px rgba(0,0,0,0.6);border:4px solid #FFD700;text-decoration:none;">
            Representación Exclusiva<br>
            <small style="font-size:400 1.1rem/1.4 sans-serif;">Comisión 3% al vender · Gratis publicarsmall>
          a>

          <!-- PAID SELF-LISTING -->
          <button type="button" id="paid-listing-trigger"
                  style="background:#10b981;color:white;padding:2rem 3rem;border-radius:16px;font-weight:700;font-size:1.6rem;border:none;cursor:pointer;box-shadow:0 12px 35px rgba(16,185,129,0.5);">
            Publicar Yo Mismo<br>
            <strong>$30.000 COP · 30 díasstrong>
          button>
        div>

        <p style="margin-top:2rem;color:#666;font-size:1.1rem;">Selecciona una opción para continuarp>
      div>

      <!-- THE FORM IS HIDDEN UNTIL PLAN IS CHOSEN -->
      <form class="form-grid" id="main-form" name="sell" method="POST" data-netlify="true"
            netlify-honeypot="bot-field" enctype="multipart/form-data" style="display:none;">

        <input type="radio" name="listing_type" value="exclusive" id="exclusive" style="display:none;">
        <input type="radio" name="listing_type" value="paid-self" id="paid-self" style="display:none;">

        <!-- ALL YOUR EXISTING FIELDS (copy-paste exactly as you had them) -->
        <div><label data-es="Nombre completo *" data-en="Full Name *">Full Name *label><input type="text" name="name" required placeholder="John Doe">div>
        <div><label data-es="Email *" data-en="Email *">Email *label><input type="email" name="_replyto" required placeholder="john@example.com">div>
        <div><label data-es="Teléfono / WhatsApp *" data-en="Phone / WhatsApp *">Phone / WhatsApp *label><input type="tel" name="phone" required placeholder="+57 300 123 4567">div>
        <div><label data-es="Ciudad / Municipio" data-en="City / Town">City / Townlabel><input type="text" name="city" placeholder="Guarne, Rionegro...">div>

        <!-- Map, property type, area, lot, price, photos, message, etc. -->
        <!-- (just keep everything you already have here – everything works) -->

        <div class="full-width">
          <button type="submit" data-es="Enviar Información" data-en="Send Information">Send Informationbutton>
        div>
      form>

      <div class="success" id="success" style="display:none;text-align:center;margin-top:3rem;">
        <span data-es="¡Gracias! Hemos recibido tu información." data-en="Thank you! We received your info.">
          ¡Gracias! Hemos recibido tu información.
        span>
      div>
    main>
  div>

  <!-- WOMPI MODAL (only shows when user clicks green button) -->
  <div id="wompi-modal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.8);z-index:9999;display:flex;align-items:center;justify-content:center;">
    <div style="background:white;padding:2.5rem 2rem;border-radius:16px;max-width:440px;width:90%;position:relative;">
      <button onclick="document.getElementById('wompi-modal').style.display='none'"
              style="position:absolute;top:12px;right:16px;font-size:2.2rem;background:none;border:none;background:none;cursor:pointer;">×button>
      <h3 style="text-align:center;margin:0 0 1.8rem;font-size:1.5rem;">Pagar $30.000 COP – Publicación 30 díash3>

      <button data-wompi-public-key="pub_test_6KTcCmxE3u8QYLIlid6IpqGdx545iDnB"
              data-amount="30000"
              data-currency="COP"
              data-reference-prefix="LISTING-"
              data-description="Publicación destacada 30 días - Propiedades Altura"
              data-redirect-url="https://propiedadesaltura.com/gracias-pago.html"
              class="wompi-pay-button">
        Pagar con Wompi $30.000 COP
      button>
    div>
  div>

  <!-- SCRIPTS -->
  <script src="app.js" defer>script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

  <script>
    // Language toggle
    document.querySelectorAll(".lang-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        const lang = btn.dataset.lang;
        document.documentElement.lang = lang;
        document.querySelectorAll("[data-es],[data-en]").forEach(el => {
          el.textContent = lang === "es" ? el.dataset.es : el.dataset.en;
        });
        document.querySelectorAll(".lang-btn").forEach(b => b.setAttribute("aria-pressed", b.dataset.lang === lang));
      });
    });

    // PAID LISTING → show form + open Wompi
    document.getElementById('paid-listing-trigger').addEventListener('click', () => {
      document.getElementById('paid-self').checked = true;
      document.getElementById('main-form').style.display = 'block';
      document.getElementById('wompi-modal').style.display = 'flex';
      window.scrollTo({top: document.getElementById('main-form').offsetTop - 100, behavior: 'smooth'});
    });

    // Close modal with ESC
    document.addEventListener('keydown', e => {
      if (e.key === "Escape") document.getElementById('wompi-modal').style.display = 'none';
    });
  script>

  <!-- Google Maps script unchanged -->
  <script>
    window.initSellMap = function() { ... } // (your map code stays the same)
  script>
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCoIGK7pUUxiu0nJSJ79ckIcayGm5O31Zo&callback=initSellMap">script>
body>
html>
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCoIGK7pUUxiu0nJSJ79ckIcayGm5O31Zo&callback=initSellMap"></script>
</body>
</html>
