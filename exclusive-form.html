<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title data-es="Representación Exclusiva – Propiedades Altura" data-en="Exclusive Representation – Propiedades Altura">Representación Exclusiva – Propiedades Altura</title>
  <meta name="description" content="Contrato de representación exclusiva – Comisión 3% sólo al vender">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="sell.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <style>
    .gold {font-family:'Playfair Display',serif !important;font-weight:700 !important;color:#FFD700 !important;letter-spacing:1px;}
    .top-hero {background:#000;color:#FFD700;padding:4rem 3rem;border-radius:24px;text-align:center;margin:3rem auto 5rem;max-width:1000px;box-shadow:0 25px 60px rgba(0,0,0,0.6);}
    .top-hero h1 {font-size:3.4rem;margin:0 0 1rem;}
    .top-hero p {font-size:1.8rem;margin:0;line-height:1.6;}
    .contract-box {background:#000;color:#fff;padding:3.5rem 4rem;border-radius:24px;margin:0 auto 5rem;max-width:1000px;box-shadow:0 20px 50px rgba(0,0,0,0.5);line-height:1.7;font-size:1.18rem;}
    .contract-box h2 {color:#FFD700;font-size:2.8rem;margin:0 0 2rem;text-align:center;}
    .contract-box strong {color:#FFD700;}
    .accept-section {background:#fff8e1;padding:3.5rem;border-radius:24px;margin:5rem auto;max-width:900px;text-align:center;box-shadow:0 15px 40px rgba(0,0,0,0.1);line-height:1.6;font-size:1.25rem;}
    #form-section {display:none;margin-top:4rem;}
    #accept-checkbox {width:32px;height:32px;margin-right:18px;vertical-align:middle;cursor:pointer;}
  </style>
</head>
<body>
  <div class="page">
    <!-- HEADER -->
    <header class="site-header" role="banner">
      <div class="wrap header-inner">
        <a class="logo" href="index.html">
          <svg class="logo-icon" viewBox="0 0 64 64"><path d="M4 56 L32 8 L60 56 Z" fill="currentColor"/></svg>
          <span class="brand">Propiedades Altura</span>
        </a>
        <nav class="header-nav">
          <div class="lang" id="lang-switch">
            <button class="lang-btn" data-lang="es" aria-pressed="true">ES</button>
            <button class="lang-btn" data-lang="en" aria-pressed="false">EN</button>
          </div>
          <a class="cta mobile-main-cta" href="index.html#properties" data-es="Ver Propiedades" data-en="View Properties">Ver Propiedades</a>
        </nav>
      </div>
      <p class="tagline" data-es="ORIENTE ANTIOQUEÑO" data-en="EASTERN ANTIOQUIA">ORIENTE ANTIOQUEÑO</p>
    </header>

    <main style="max-width:960px;margin:4rem auto 8rem;padding:0 1rem;">
      <!-- BLACK HERO -->
      <div class="top-hero">
        <h1 class="gold" data-es="Representación<br>Exclusiva" data-en="Exclusive<br>Representation">Representación<br>Exclusiva</h1>
        <p class="gold" data-es="Comisión del 3% sólo cuando se venda · Listado 100% gratuito · Contrato por 6 meses"
           data-en="3% commission only when sold · 100% free listing · 6-month contract">
          Comisión del 3% sólo cuando se venda · Listado 100% gratuito · Contrato por 6 meses
        </p>
      </div>

      <!-- BENEFITS -->
      <div style="background:#000;color:#FFD700;padding:3.5rem;border-radius:24px;text-align:center;margin-bottom:5rem;">
        <h2 class="gold" data-es="Beneficios Incluidos" data-en="Included Benefits" style="font-size:2.8rem;margin-bottom:2rem;">Beneficios Incluidos</h2>
        <ul style="columns:2;column-gap:5rem;font-size:1.4rem;line-height:2;max-width:900px;margin:0 auto;text-align:left;">
          <li data-es="Publicación destacada y permanente" data-en="Permanent featured listing">Publicación destacada y permanente</li>
          <li data-es="Fotos y video profesional (gratis)" data-en="Professional photos & video (free)">Fotos y video profesional (gratis)</li>
          <li data-es="Marketing nacional e internacional" data-en="National & international marketing">Marketing nacional e internacional</li>
          <li data-es="Asesoría de precios y estrategia" data-en="Pricing & strategy advice">Asesoría de precios y estrategia</li>
          <li data-es="Filtrado de visitas serias" data-en="Screening of serious buyers">Filtrado de visitas serias</li>
          <li data-es="Negociación y acompañamiento legal" data-en="Negotiation & legal support">Negociación y acompañamiento legal</li>
          <li data-es="Sólo pagas 3% al vender con éxito" data-en="You only pay 3% when sold successfully">Sólo pagas 3% al vender con éxito</li>
        </ul>
      </div>

      <!-- FULL CONTRACT IN HTML -->
      <div class="contract-box">
        <h2 class="gold" data-es="Contrato de Representación Exclusiva" data-en="Exclusive Representation Agreement">Contrato de Representación Exclusiva</h2>
        <p data-es="Por medio del presente contrato..." data-en="By this agreement...">Por medio del presente contrato...</p>
        <!-- Your full contract text here (same as before) -->
        <p style="margin-top:2.5rem;font-size:1.3rem;"><strong data-es="El presente contrato tiene plena validez legal..." data-en="This agreement has full legal validity...">El presente contrato tiene plena validez legal...</strong></p>
      </div>

      <!-- ACCEPTANCE -->
      <div class="accept-section">
        <label style="font-size:1.45rem;line-height:1.7;display:flex;align-items:center;justify-content:center;max-width:800px;margin:0 auto;cursor:pointer;">
          <input type="checkbox" id="accept-checkbox" required>
          <span class="gold" data-es="He leído y acepto plenamente el contrato de representación exclusiva por 6 meses con comisión del 3%."
                data-en="I have read and fully accept the 6-month exclusive representation agreement with 3% commission.">
            He leído y acepto plenamente el contrato de representación exclusiva por 6 meses con comisión del 3%.
          </span>
        </label>

        <p style="margin:2.5rem 0 1rem;font-size:1.15rem;">
          <a href="/docs/exclusiva-propiedades-altura.pdf" target="_blank" style="color:#c2410c;text-decoration:underline;" data-es="Contrato en español (PDF)" data-en="Contract in Spanish (PDF)">Contrato en español (PDF)</a> ·
          <a href="/docs/exclusive-listing-propiedades-altura.pdf" target="_blank" style="color:#c2410c;text-decoration:underline;" data-es="Contract in English (PDF)" data-en="Contract in English (PDF)">Contract in English (PDF)</a>
        </p>
      </div>

      <!-- FORM – ONLY AFTER CHECKBOX -->
      <div id="form-section">
        <form class="form-grid" name="exclusive" method="POST" data-netlify="true" netlify-honeypot="bot-field" enctype="multipart/form-data">
          <input type="hidden" name="listing_type" value="exclusive">

          <div><label data-es="Nombre completo *" data-en="Full Name *">Nombre completo *</label><input type="text" name="name" required placeholder="John Doe"></div>
          <div><label data-es="Email *" data-en="Email *">Email *</label><input type="email" name="_replyto" required placeholder="john@example.com"></div>
          <div><label data-es="Teléfono / WhatsApp *" data-en="Phone / WhatsApp *">Teléfono / WhatsApp *</label><input type="tel" name="phone" required placeholder="+57 300 123 4567"></div>
          <div><label data-es="Ciudad / Municipio" data-en="City / Municipality">Ciudad / Municipio</label><input type="text" name="city" placeholder="Guarne, Rionegro..."></div>

          <div class="full-width">
            <label data-es="Haz clic en el mapa para seleccionar ubicación exacta" data-en="Click on the map to select exact location">
              Haz clic en el mapa para seleccionar ubicación exacta
            </label>
            <div id="map" style="height:420px;margin:1rem 0;border-radius:16px;"></div>
            <input type="hidden" name="latitude" id="lat">
            <input type="hidden" name="longitude" id="lng">
            <input type="hidden" name="google_maps_link" id="maps-link">
          </div>

          <div><label data-es="Tipo de propiedad" data-en="Property Type">Tipo de propiedad</label>
            <select name="property_type">
              <option>Casa</option><option>Apartamento</option><option>Finca</option><option>Lote</option><option>Local comercial</option><option>Bodega</option>
            </select>
          </div>
          <div><label data-es="Área construida (m²)" data-en="Built Area (m²)">Área construida (m²)</label><input type="number" name="area_m2" placeholder="250"></div>
          <div><label data-es="Área lote (m²)" data-en="Lot Size (m²)">Área lote (m²)</label><input type="number" name="lot_size" placeholder="1000"></div>
          <div><label data-es="Habitaciones" data-en="Bedrooms">Habitaciones</label><input type="number" name="bedrooms" placeholder="3"></div>
          <div><label data-es="Baños" data-en="Bathrooms">Baños</label><input type="number" name="bathrooms" placeholder="2"></div>
          <div><label data-es="Parqueaderos" data-en="Parking Spaces">Parqueaderos</label><input type="number" name="parking" placeholder="2"></div>
          <div><label data-es="Precio esperado de venta" data-en="Expected Sale Price">Precio esperado de venta</label><input type="number" name="asking_price" placeholder="500000000"></div>

          <!-- OWNER FINANCING – NOW FULLY BILINGUAL -->
          <div class="full-width" style="margin:2rem 0;">
            <label style="font-size:1.35rem;display:flex;align-items:flex-start;cursor:pointer;">
              <input type="checkbox" name="open_to_financing" id="financing-checkbox"
                     style="width:26px;height:26px;margin-right:16px;margin-top:6px;flex-shrink:0;">
              <span style="color:#000;line-height:1.6;">
                <span data-es="Estoy abierto a considerar <strong>financiación directa</strong> con el comprador"
                      data-en="I am open to considering <strong>owner financing</strong> with the buyer">
                  Estoy abierto a considerar <strong>financiación directa</strong> con el comprador
                </span><br>
                <small style="color:#1d4ed8;font-weight:600;"
                       data-es="(pago en cuotas – puede atraer más ofertas y mejor precio final)"
                       data-en="(installment payments – can attract more offers and better final price)">
                  (pago en cuotas – puede atraer más ofertas y mejor precio final)
                </small>
              </span>
            </label>
          </div>

          <!-- PHOTOS & MESSAGE -->
          <div class="full-width">
            <label data-es="Sube fotos de tu propiedad (máx. 10)" data-en="Upload property photos (max 10)">Sube fotos de tu propiedad (máx. 10)</label>
            <div class="photo-upload">
              <input type="file" name="photos" id="photos" accept="image/*" multiple style="display:none;">
              <p><strong data-es="Clic o arrastra aquí" data-en="Click or drag here">Clic o arrastra aquí</strong><br>
                 <small data-es="Máximo 10 fotos" data-en="Maximum 10 photos">Máximo 10 fotos</small></p>
              <div class="photo-preview" id="preview"></div>
            </div>
          </div>

          <div class="full-width"><label data-es="Mensaje adicional" data-en="Additional message">Mensaje adicional</label><textarea name="message" placeholder="Urgencia, condiciones especiales..."></textarea></div>

          <div class="full-width">
            <button type="submit" style="background:#000;color:#FFD700;padding:1.8rem;font-size:1.9rem;border:none;border-radius:20px;font-family:'Playfair Display',serif;">
              <span data-es="Enviar Solicitud de Representación Exclusiva" data-en="Submit Exclusive Listing Request">
                Enviar Solicitud de Representación Exclusiva
              </span>
            </button>
          </div>
        </form>
      </div>
    </main>
  </div>

  <!-- SCRIPTS -->
  <script src="app.js" defer></script>
  <script>
  <script>
    // FULL ENGLISH SUPPORT — now 100% working
    document.querySelectorAll(".lang-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        const lang = btn.dataset.lang;
        document.documentElement.lang = lang;
        document.querySelectorAll("[data-es],[data-en]")).forEach(el => {
          const text = lang === "es" ? el.dataset.es : el.dataset.en;
          if (text) el.textContent = text;
        });
        // Update aria-pressed state
        document.querySelectorAll(".lang-btn").forEach(b => b.setAttribute("aria-pressed", b.dataset.lang === lang));
      });
    });

    // Checkbox show/hide form
    document.getElementById('accept-checkbox').addEventListener('change', function () {
      document.getElementById('form-section').style.display = this.checked ? 'block' : 'none';
      if (this.checked) document.getElementById('form-section').scrollIntoView({behavior: 'smooth'});
    });

    // Photo preview & map (perfect as always)
    const input = document.getElementById('photos');
    const preview = document.getElementById('preview');
    const uploadBox = document.querySelector('.photo-upload');
    uploadBox.addEventListener('click', () => input.click());
    ['dragover','dragenter'].forEach(e => uploadBox.addEventListener(e, ev => {ev.preventDefault(); uploadBox.style.borderColor='#1d4ed8';}));
    ['dragleave','drop'].forEach(e => uploadBox.addEventListener(e, ev => {ev.preventDefault(); uploadBox.style.borderColor='#ccc';}));
    uploadBox.addEventListener('drop', e => { input.files = e.dataTransfer.files; handleFiles(e.dataTransfer.files); });
    input.addEventListener('change', () => handleFiles(input.files));
    function handleFiles(files) {
      preview.innerHTML = '';
      for (let i = 0; i < Math.min(files.length, 10); i++) {
        if (files[i].type.startsWith('image/')) {
          const img = document.createElement('img');
          img.src = URL.createObjectURL(files[i]);
          img.style.height='130px'; img.style.margin='6px'; img.style.borderRadius='10px';
          preview.appendChild(img);
        }
      }
      if (files.length > 10) preview.innerHTML += `<small style="color:red;">${lang === "es" ? "Solo las primeras 10 fotos se enviarán." : "Only the first 10 photos will be sent."}</small>`;
    }

    window.initSellMap = function() {
      const map = new google.maps.Map(document.getElementById("map"), {
        center: { lat: 6.1935, lng: -75.3832 },
        zoom: 10,
      });
      let marker = null;
      map.addListener("click", e => {
        const lat = e.latLng.lat();
        const lng = e.latLng.lng();
        if (marker) marker.setPosition(e.latLng);
        else marker = new google.maps.Marker({ position: e.latLng, map });
        document.getElementById("lat").value = lat.toFixed(6);
        document.getElementById("lng").value = lng.toFixed(6);
        const url = `https://www.google.com/maps?q=${lat},${lng}&z=18`;
        document.getElementById("maps-link").value = url;
        document.getElementById("coords").textContent = `Guardado: ${lat.toFixed(5)}, ${lng.toFixed(5)}`;
        document.getElementById("open-map").href = url;
        document.getElementById("open-map").style.display = "inline";
      });
    };
  </script>
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCoIGK7pUUxiu0nJSJ79ckIcayGm5O31Zo&callback=initSellMap"></script>
</body>
</html>
